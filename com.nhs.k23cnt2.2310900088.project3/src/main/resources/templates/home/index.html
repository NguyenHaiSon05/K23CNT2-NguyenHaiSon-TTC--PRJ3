<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>FreshFruit - Trang chủ</title>

    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">


    <!-- Swiper CSS -->
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css" />

    <!-- CSS RIÊNG CỦA TRANG HOME -->
    <link rel="stylesheet" th:href="@{/css/home/index.css}">

    <link rel="stylesheet" th:href="@{/css/layout/footer.css}">


    <style>
        .banner img { width: 100%; border-radius: 10px; }
        .service-box { text-align: center; padding: 20px; }
        .service-box i { font-size: 40px; color: #0d6efd; }
    </style>
</head>

<body>

<!-- HEADER -->
<div th:replace="layout/header :: header"></div>

<!-- Swiper Banner  -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css" />


<!-- Banner Swiper -->
<div class="swiper bannerSwiper mt-3">
    <div class="swiper-wrapper">

        <div class="swiper-slide">
            <img src="/image/banner/banner1.png" alt="banner1">
        </div>

        <div class="swiper-slide">
            <img src="/image/banner/banner2.png" alt="banner2">
        </div>

        <div class="swiper-slide">
            <img src="/image/banner/banner3.png" alt="banner3">
        </div>

    </div>

    <!-- Chấm -->
    <div class="swiper-pagination"></div>
</div>



<!-- Swiper JS -->
<script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>

<script>
    var swiper = new Swiper(".bannerSwiper", {
        loop: true,
        autoplay: {
            delay: 3000,
            disableOnInteraction: false,
        },
        effect: "fade",
        pagination: {
            el: ".swiper-pagination",
            clickable: true,
        },
        navigation: {
            nextEl: ".swiper-button-next",
            prevEl: ".swiper-button-prev",
        },
    });
</script>

<!-- DANH MỤC NỔI BẬT -->
<div class="container my-5">

    <h2 class="blink-title">Danh Mục Nổi Bật</h2>


    <div class="category-section">
        <!-- Trái Cây Nhập Khẩu -->
        <div class="category-box" style="background-image: url('/uploads/danhmuc/danhmuc1.png');">
            <a href="/products?category=import">
                <span>Trái Cây Nhập Khẩu</span>
            </a>
        </div>

        <!-- Trái Cây Khô -->
        <div class="category-box" style="background-image: url('/uploads/danhmuc/danhmuc2.png');">
            <a href="/products?category=dry">
                <span>Trái Cây Khô</span>
            </a>
        </div>

        <!-- Giỏ Quà Trái Cây -->
        <div class="category-box" style="background-image: url('/uploads/danhmuc/danhmuc3.png');">
            <a href="/products?category=gift">
                <span>Giỏ Quà Trái Cây</span>
            </a>
        </div>
    </div>

</div>



<div class="section-title">
    <h2>
        Sản Phẩm <span>Nổi Bật</span>
    </h2>

    <div class="product-tabs">
        <a class="tab active" data-tab="new">SẢN PHẨM MỚI NHẤT</a>
        <a class="tab" data-tab="best">SẢN PHẨM BÁN CHẠY</a>
    </div>

</div>

<!-- SẢN PHẨM MỚI NHẤT -->
<div id="new" class="product-grid tab-content active">
    <div class="product-item" th:each="p : ${latestProducts}">
        <a th:href="@{'/product/' + ${p.productId}}">
            <img th:src="@{${p.image}}" alt="" />
        </a>
        <h3 th:text="${p.name}"></h3>
        <p class="price"
           th:text="${#numbers.formatDecimal(p.price,0,'COMMA',0,'POINT')}
           + 'đ / ' + ${p.unit}">
        </p>

    </div>
</div>

<!-- SẢN PHẨM BÁN CHẠY -->
<div id="best" class="product-grid tab-content">
    <div class="product-item" th:each="p : ${bestSellerProducts}">
        <a th:href="@{'/product/' + ${p.productId}}">
            <img th:src="@{${p.image}}" alt="" />
        </a>
        <h3 th:text="${p.name}"></h3>
        <p class="price"
           th:text="${#numbers.formatDecimal(p.price,0,'COMMA',0,'POINT')}
           + 'đ / ' + ${p.unit}">
        </p>

    </div>
    <script>
        document.querySelectorAll(".tab").forEach(tab => {
            tab.addEventListener("click", () => {

                // Đổi trạng thái active cho tab
                document.querySelectorAll(".tab").forEach(t => t.classList.remove("active"));
                tab.classList.add("active");

                // Lấy tab id
                let tabId = tab.dataset.tab;

                // Ẩn tất cả nội dung
                document.querySelectorAll(".tab-content").forEach(c => c.classList.remove("active"));

                // Hiện đúng tab được chọn
                document.getElementById(tabId).classList.add("active");
            });
        });
    </script>
</div>




<!-- FOOTER -->
<div th:replace="layout/footer :: footer"></div>
</body>
</html>
