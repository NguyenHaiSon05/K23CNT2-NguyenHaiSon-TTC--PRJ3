<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Qu·∫£n l√Ω s·∫£n ph·∫©m - Admin Panel</title>
    <link rel="stylesheet" th:href="@{/css/admin/admin.css}">
    <link rel="stylesheet" th:href="@{/css/admin/product/list.css}">
</head>
<body>

<div th:replace="admin/layout/header :: adminHeader"></div>

<div style="display: flex; min-height: 100vh;">

    <div th:replace="admin/layout/sidebar :: sidebar"></div>

    <main style="flex: 1; padding: 30px; background-color: #f9fafb;">

        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px;">
            <div>
                <h2 style="font-size: 24px; font-weight: 700; color: #111827;">üì¶ Qu·∫£n l√Ω s·∫£n ph·∫©m</h2>
                <p style="color: #6b7280; font-size: 14px; margin-top: 5px;">Qu·∫£n l√Ω danh s√°ch tr√°i c√¢y hi·ªán c√≥</p>
            </div>

            <a href="/admin/products/create" class="btn-primary">
                Th√™m tr√°i c√¢y m·ªõi
            </a>
        </div>

        <div class="table-container">
            <table>
                <thead>
                <tr>
                    <th style="width: 50px;">ID</th>
                    <th style="width: 80px;">·∫¢nh</th> <th>T√™n s·∫£n ph·∫©m</th>
                    <th>Gi√° b√°n</th>
                    <th>T·ªìn kho</th>
                    <th>Danh m·ª•c</th>
                    <th style="text-align: right;">H√†nh ƒë·ªông</th>
                </tr>
                </thead>

                <tbody>
                <tr th:each="p : ${products}">
                    <td th:text="'#' + ${p.productId}" style="color: #888; font-weight: 500;"></td>

                    <td>
                        <img th:src="@{${p.image}}" alt="img" class="table-img"
                             onerror="this.src='https://placehold.co/40'">
                    </td>

                    <td>
                        <b th:text="${p.name}" style="color: #333;"></b>
                    </td>

                    <td style="color: #1f8c5c; font-weight: 700;"
                        th:text="${#numbers.formatDecimal(p.price, 0, 'COMMA', 0, 'POINT')} + ' ƒë'">
                    </td>

                    <td>
                        <span th:if="${p.stock > 10}" th:text="${p.stock}" class="badge badge-green"></span>
                        <span th:if="${p.stock <= 10}" th:text="${p.stock} + ' (S·∫Øp h·∫øt)'" class="badge badge-red"></span>
                    </td>

                    <td th:text="${p.category.name}" style="color: #555;"></td>

                    <td style="text-align: right;">
                        <a th:href="@{/admin/products/edit/{id}(id=${p.productId})}" class="btn-action btn-edit" title="S·ª≠a">
                            ‚úèÔ∏è
                        </a>
                        <a th:href="@{/admin/products/delete/{id}(id=${p.productId})}"
                           class="btn-action btn-delete"
                           onclick="return confirm('B·∫°n ch·∫Øc ch·∫Øn mu·ªën x√≥a s·∫£n ph·∫©m n√†y?')" title="X√≥a">
                            üóë
                        </a>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>

    </main>
</div>

</body>
</html>